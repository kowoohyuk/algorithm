# 프로그래머스

## 다리를 지나는 트럭

### 풀이

> 다리의 길이가 10이고 트럭이 1대 일 때, 소요시간은 10초가 아닌 11초임을 유의하자.

1. **truck_weights**에서 가장 앞에 위치한 **요소(truck)**를 선택한다.
2. **현재 다리에 올라와있는 트럭(stack)**의 무게의 합과 **truck**의 합을 더 한 값을 **weight**와 비교한다.

- weight가 크다면 truck을 truck_weights에서 제거하고, **stack**에 추가한다.

3. **stack**에 들어있는 truck이 다리를 지났는지 검사한다.

- 다리를 지난 트럭이 있다면 그 truck을 stack에서 제거한다.

4. **시간(sec)**을 1만큼 증가시킨다.
5. truck_weights과 stack 모두의 요소가 0이 될 때까지 반복한다.
6. **sec**를 반환한다.

---

매초마다 요소를 하나씩 추가 및 삭제하는 스택을 만들어 truck을 이동시키면서 삭제하는 방법이다.

```javascript
// 추가 스택
let stackB = new Array(bridge_length).fill(0);
// 매초가 지날 때 마다
stackB.pop();
// 트럭을 추가할 수 있다면
stackB = [truck].concat(stackB);
// 트럭을 추가할 수 없다면
stackB = [0].concat(stackB);

// 흐름
// bridge_length = 3, weight = 4, truck_weights = [1, 2, 3, 4]일 때,
// 0초
// [0, 0, 0]
// 1초
// [1, 0, 0]
// 2초
// [2, 1, 0]
// 3초
// [0, 2, 1]
// 4초
// [0, 0, 2]
// 5초
// [3, 0, 0]
// 6초
// [0, 3, 0]
// 7초
// [0, 0, 3]
// 8초
// [4, 0, 0]
// 9초
// [0, 4, 0]
// 10초
// [0, 0, 4]
// 11초
// [0, 0, 0]
// sec = 11
```

**코드**

```javascript
function solution(bridge_length, weight, truck_weights) {
  let count = 0;
  let arr = Array(bridge_length).fill(0);
  let sec = 0;
  let next = truck_weights[count];
  let loadWeight = 0;
  while (count > -1) {
    loadWeight -= arr.pop();
    if (weight >= next + loadWeight) {
      arr = [next].concat(arr);
      count += 1;
      loadWeight += next;
      next = truck_weights[count];
    } else {
      arr = [0].concat(arr);
    }
    sec += 1;
    if (!loadWeight) break;
  }
  return sec;
}
```
